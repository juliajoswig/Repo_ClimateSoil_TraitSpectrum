nruns=50
nruns=50
climOsoil="soilAclimate"
setwd("/Net/Groups")
orig_loctem =  "BGI"#"/Volumes/BGI"
output_term = "log10" # or "non_woody" or  "woody" or ""
version_now="V_2020_02_10"
require("dplyr")
Appr_type_now="Data_GapFilled"
# ---------------------------------------------------------------------------------------
# define the origin path
# ---------------------------------------------------------------------------------------
# origin = # please add your local path here & comment the ones below.
#origin = file.path(orig_loctem,"work_1/2018_Dichotomy/V_2/Revision_2019")
origin = file.path("/Users/jjoswig/Documents/_docs/03_projects/2020/002_Dichotomy/2019_Revision/20191004_Revision/R")
source(file.path(origin,"scripts",version_now ,"_master","fn_functions.R"))
output_term=""
#-------------
# load data
#-------------
load(file.path(origin, "data", "_results","RidgeRegression","hp_RR",paste0("HP_",nruns=nruns,"nruns_","Data_GapFilled", output_term,".RData")))
hp_now <- hp_l[[which(names(hp_l)%in%climOsoil)]]
#-------------
# load data
#-------------
list.files(file.path(origin, "data", "_results","RidgeRegression"))
#-------------
# load data
#-------------
list.files(file.path(origin, "data", "_results","RidgeRegression","soilAclimate"))
#-------------
# load data
#-------------
list.files(file.path(origin, "data", "_results","RidgeRegression","soilAclimate","50Reps"))
list.files(file.path(origin,"data","master_matrix","_aggregated_agg2","NA_mnNbr"))
if(output_term==""|output_term=="PCA"|output_term=="log10"){load(file = file.path(origin,"data","master_matrix","_aggregated_agg2","NA_mnNbr","TRY_Env2_Kier_20191111.RData"))}
load(file = file.path(origin,"data","master_matrix","_aggregated_agg2","NA_mnNbr","TRY_Env2_Kier_20191111.RData"))
# rename
TRY_Env_o <- TRY_Env2_Kier
# process data:
out <- prep_TRY_Env(Appr_type_now,output_term,Rename_Vars,TRY_Env_o)
info=out$info_2
trait=out$trait_2
soil=out$soil_2
climate=out$climate_2
load_analysis_RidgeRegression
source(file.path(origin,"scripts",version_now,"01_analysis_functions","RidgeRegression","fn_easyload_RR.R"))
climOsoil
r2 <- load_analysis_RidgeRegression(origin,nruns,climOsoil,output_term)
#--------------------------------------------------------------------------------------
# load data
#--------------------------------------------------------------------------------------
secondname=paste0(sub(".*A", "", climOsoil))
firstname=paste0(substring(text = climOsoil,first = 1,last = regexpr("A", climOsoil)[1]-1))
#load first
load(file = file.path( origin, "data", "_results","RidgeRegression",firstname, paste0(nruns,"Reps"),
paste0("Res_Data_GapFilled",output_term,".RData")))
first_res <- out
rm("out")
#load second
load(file = file.path( origin, "data", "_results","RidgeRegression",secondname, paste0(nruns,"Reps"),
paste0("Res_Data_GapFilled",output_term,".RData")))
second_res <- out
rm("out")
#load firstAsecond
if(climOsoil%in%c("soil_physicsAsoil_chemistry","soil_chemistryAsoil_physics",
"climate_waterAclimate_energy","climate_energyAclimate_water")){
if(climOsoil%in%c("soil_physicsAsoil_chemistry","soil_chemistryAsoil_physics")&
file.exists(file.path( origin, "data", "_results","RidgeRegression","soil", paste0(nruns,"Reps"),
paste0("Res_Data_GapFilled",output_term,".RData")))){
load(file = file.path( origin, "data", "_results","RidgeRegression","soil", paste0(nruns,"Reps"),
paste0("Res_Data_GapFilled",output_term,".RData")))
firstAsecond_res <- out
rm("out")}
if(climOsoil%in%c("climate_waterAclimate_energy","climate_energyAclimate_water")&
file.exists(file.path( origin, "data", "_results","RidgeRegression","climate", paste0(nruns,"Reps"),
paste0("Res_Data_GapFilled",output_term,".RData")))){
load(file = file.path( origin, "data", "_results","RidgeRegression","climate", paste0(nruns,"Reps"),
paste0("Res_Data_GapFilled",output_term,".RData")))
firstAsecond_res <- out
rm("out")}
}else{
if(file.exists(file.path( origin, "data", "_results","RidgeRegression",paste0(firstname,"A",secondname), paste0(nruns,"Reps"),
paste0("Res_Data_GapFilled",output_term,".RData")))){
load(file = file.path( origin, "data", "_results","RidgeRegression",paste0(firstname,"A",secondname), paste0(nruns,"Reps"),
paste0("Res_Data_GapFilled",output_term,".RData")))}
if(file.exists(file.path( origin, "data", "_results","RidgeRegression",paste0(secondname,"A",firstname), paste0(nruns,"Reps"),
paste0("Res_Data_GapFilled",output_term,".RData")))){
load(file = file.path( origin, "data", "_results","RidgeRegression",paste0(secondname,"A",firstname), paste0(nruns,"Reps"),
paste0("Res_Data_GapFilled",output_term,".RData")))}
firstAsecond_res <- out
rm("out")
}
# SETUP
# Julia Joswig
# 2020_02_17
# ------------
# ---------------------------------------------------------------------------------------
setwd("/Net/Groups")
orig_loctem =  "BGI"#"/Volumes/BGI"
output_term = "log10" # or "non_woody" or  "woody" or ""
version_now="V_2020_02_10"
require("dplyr")
Appr_type_now="Data_GapFilled"
# ---------------------------------------------------------------------------------------
# define the origin path
# ---------------------------------------------------------------------------------------
# origin = # please add your local path here & comment the ones below.
#origin = file.path(orig_loctem,"work_1/2018_Dichotomy/V_2/Revision_2019")
origin = file.path("/Users/jjoswig/Documents/_docs/03_projects/2020/002_Dichotomy/2019_Revision/20191004_Revision/R")
source(file.path(origin,"scripts",version_now ,"_master","fn_functions.R"))
#-----------------------------------------------------------------------------------
# model building analyses
#-----------------------------------------------------------------------------------
doPLS=FALSE
doPCA=FALSE
doRR=TRUE
doRF=FALSE
folds=10
ncomp_PCA=20
